<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>Input Page</title>
       <style>
/* General Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Body Styles */
body {
    font-family: Arial, sans-serif;
    background-image: url("chess.jpeg");
    background-size: cover; /* Ensures the image covers the entire screen */
    background-position: center center; /* Centers the image */
    background-attachment: fixed; /* Keeps the image fixed during scrolling */
    color: white;
    padding: 20px;
    height: 100vh; /* Ensures the body takes up the full viewport height */
}

/* Dashboard Styles */
.dashboard {
    margin-bottom: 20px;
}

.dashboard a {
    font-size: 30px;
    text-decoration: none;
    color: white;
    margin-right: 15px;
    font-family: "Times New Roman", serif;
    font-weight: 100;
    background-color: black;
    padding: 10px 15px;
    border-radius: 5px;
    transition: background-color 0.3s ease, color 0.3s ease;
}

.dashboard a:hover {
    background-color: white;
    color: black;
}

/* Form Styles */
form {
    background-color: rgba(0, 0, 0, 0.6); /* Slight transparency */
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.8);
}

.input-style, .input-style1, .input-style3 {
    width: 100%;
    padding: 12px;
    margin-bottom: 15px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
    background-color: rgba(255, 255, 255, 0.8);
    color: black;
}

.input-style:focus, .input-style1:focus, .input-style3:focus {
    border-color: #4CAF50;
    outline: none;
}

/* Button Styles */
.button1, .button2, .button3 {
    background-color: black;
    color: white;
    padding: 12px 20px;
    border: none;
    border-radius: 4px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease, color 0.3s ease;
    display: block;
    margin: 0 auto;
}

.button1:hover, .button2:hover, .button3:hover {
    background-color: white;
    color: black;
}

/* Table Styles */
table {
    width: 100%;
    margin-top: 20px;
    background-color: rgba(255, 255, 255, 0.9);
    border-collapse: collapse;
}

th, td {
    padding: 12px;
    text-align: left;
    border: 1px solid black;
    font-size: 16px;
    color: black;
}

th {
    background-color: #f2f2f2;
    font-weight: bold;
}

.font {
    font-weight: normal;
}

/* Remove Button Styles */
.remove-button {
    background-color: #f44336;
    color: white;
    padding: 5px 10px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s ease;
}

.remove-button:hover {
    background-color: #d32f2f;
}

/* Winner and Date Display Styles */
#winnerDisplay, #displaydatetime {
    margin-top: 20px;
    font-size: 18px;
    color: white;
    background-color: rgba(0, 0, 0, 0.5);
    padding: 10px;
    border-radius: 5px;
}

#winnerDisplay button, #displaydatetime button {
    margin-left: 10px;
}

/* Responsive Design */
@media (max-width: 768px) {
    .dashboard a {
        display: block;
        margin-bottom: 10px;
        font-size: 20px;
    }

    /* Form Inputs */
    .input-style, .input-style1, .input-style3 {
        padding: 10px;
        font-size: 14px;
    }

    /* Buttons */
    .button1, .button2, .button3 {
        width: 100%;
        padding: 10px;
        font-size: 16px;
    }

    /* Table */
    th, td {
        padding: 10px;
        font-size: 14px;
    }

    #winnerDisplay, #displaydatetime {
        font-size: 16px;
    }
}

@media (max-width: 480px) {
    body {
        padding: 10px;
    }

    .input-style, .input-style1, .input-style3 {
        font-size: 13px;
        padding: 8px;
    }

    .button1, .button2, .button3 {
        font-size: 14px;
        padding: 10px;
    }

    th, td {
        font-size: 12px;
        padding: 8px;
    }
}
 #searchInput {
            margin-top: 20px;
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            background-color: rgba(255, 255, 255, 0.8);
            color: black;
        }

        #searchInput:focus {
            border-color: #4CAF50;
            outline: none;
        }
       </style>
</head>
<body>
    <div class="dashboard">
        <a href="index.html" >homepage</a>   <a href="chess1.html"  >Check Name</a>
    </div>
<form id="inputForm">
    <input type="text" id="userInput" name="userInput" placeholder="Enter name" class="input-style" required><br><br>
    
    <input type="number" id="rollNoInput" name="rollNoInput" placeholder="Enter Roll No" class="input-style" required><br><br>
    
    <input type="text" id="classInput" name="classInput" placeholder="Enter Class" class="input-style" required><br><br>
    
    <select id="userStatus" name="userStatus" class="input-style" required>
        <option value="playing">Playing</option>
        <option value="checkmate">Win by Checkmate</option>
        <option value="timeout">Win by Timeout</option>
        <option value="lose">lose</option>
    </select><br><br>
    
    <button type="button" class="button1" onclick="addItem()">Add Player</button>
</form>    
    <form id="dateTimeForm">
        
        <input type="datetime-local" id="dateTimeInput" class="input-style1" required><br><br>
        <button type="button" class="button2" onclick="saveDateTime()">Save Date and Time</button>
    </form>
    
    
    <form id="winnerForm">
        <input type="text" id="winnerInput" placeholder="Eg.1:-boysplayer/class,2:-boysplayer,1:-girlsplayer/class,2:-girlsplayer/class" class="input-style3"><br><br>
        <button type="button" class="button3" onclick="saveWinner()">Save winner</button>
    </form>
    <input type="text" id="searchInput" placeholder="Search player name..." onkeyup="filterTable()">

<h3>players list</h3>

    <table id="itemTable" >
        <thead>
            <tr>
                <th >Player 1</th>
                <th>roll no</th>
                <th>class</th>
                <th>result</th>
                <th>Player 2</th>
                <th>roll no</th>
                <th>class</th><!-- comment -->
                <th>result</th>
            </tr>
        </thead>
        <tbody id="itemList"></tbody>
    </table>

    
<div id="winnerDisplay"></div>
<div id="datetimedisplay"></div> 

 <script>
   function addItem() {
    const input = document.getElementById('userInput');
    const rollNoInput = document.getElementById('rollNoInput');
    const classInput = document.getElementById('classInput');
    const status = document.getElementById('userStatus');
    
    const newItem = input.value.trim();
    const newRollNo = rollNoInput.value.trim();
    const newClass = classInput.value.trim();
    const newStatus = status.value.trim();

    // Validate that newItem, newRollNo, newClass, and newStatus are valid
    if (isValidString(newItem) && isValidNumber(newRollNo) && isValidString(newClass) && isValidString(newStatus)) {
        let items = JSON.parse(localStorage.getItem('items')) || [];
        
        // Check for duplicate names
        if (isDuplicateName(newItem, items)) {
            alert('This name is already taken. Please choose a different name.');
            return;  // Exit the function if duplicate found
        }
        
        // Check for duplicate roll numbers
        if (isDuplicateRollNo(newRollNo, items)) {
            alert('This roll number is already taken. Please enter a unique roll number.');
            return;  // Exit the function if duplicate roll number found
        }

        // Add the new item if valid and no duplicates
        items.push({ name: newItem, rollNo: newRollNo, class: newClass, status: newStatus });
        localStorage.setItem('items', JSON.stringify(items));
        input.value = '';
        rollNoInput.value = '';
        classInput.value = '';
        status.value = 'playing'; // reset to default value
        updateItemList();
    } else {
        alert('Please enter valid strings for name, roll no (numbers only), class, and status (letters only).');
    }
}

function isDuplicateName(name, items) {
    return items.some(item => item.name.toLowerCase() === name.toLowerCase());
}

function isDuplicateRollNo(rollNo, items) {
    return items.some(item => item.rollNo === rollNo);
}

function isValidString(value) {
    return /^[a-zA-Z ]+$/.test(value);
}

function isValidNumber(value) {
    return /^[0-9]+$/.test(value);
}

// Function to check if the input is a valid number
function isValidNumber(num) {
    return !isNaN(num) && num.trim() !== '';
}
    // Function to check if the string contains only alphabetic characters and spaces
    function isValidString(str) {
        // Allow only letters and spaces (no numbers or special characters)
        const regex = /^[A-Za-z\s]+$/;
        return regex.test(str);
    }

    // Function to check if the name is a duplicate
    function isDuplicateName(newName, items) {
        return items.some(item => item.name.toLowerCase() === newName.toLowerCase());
    }

 function updateItemList() {
    const itemList = document.getElementById('itemList');
    itemList.innerHTML = '';
    const items = JSON.parse(localStorage.getItem('items')) || [];

    for (let i = 0; i < items.length; i += 2) {
        const row = document.createElement('tr');

        const cell1 = document.createElement('td');
        const rollNoCell1 = document.createElement('td');
        const classCell1 = document.createElement('td');
        const statusCell1 = document.createElement('td');
        statusCell1.className = 'font';
        const cell2 = document.createElement('td');
        const rollNoCell2 = document.createElement('td');
        const classCell2 = document.createElement('td');
        const statusCell2 = document.createElement('td');
        statusCell2.className = 'font';
        cell1.className = 'font';

        cell1.textContent = items[i].name;
        rollNoCell1.textContent = items[i].rollNo;
        classCell1.textContent = items[i].class;
        statusCell1.innerHTML = `<select onchange='updateStatus(${i}, this.value)'>
            <option value="playing" ${items[i].status === 'playing' ? 'selected' : ''}>Playing</option>
            <option value="checkmate" ${items[i].status === 'checkmate' ? 'selected' : ''}>Win by Checkmate</option>
            <option value="timeout" ${items[i].status === 'timeout' ? 'selected' : ''}>Win by Timeout</option>
            <option value="lose" ${items[i].status === 'lose' ? 'selected' : ''}>Lose</option>
        </select>`;
        cell1.appendChild(createRemoveButton(i));
        row.appendChild(cell1);
        row.appendChild(rollNoCell1);
        row.appendChild(classCell1);
        row.appendChild(statusCell1);

        if (i + 1 < items.length) {
            cell2.textContent = items[i + 1].name;
            rollNoCell2.textContent = items[i + 1].rollNo;
            classCell2.textContent = items[i + 1].class;
            statusCell2.innerHTML = `<select onchange='updateStatus(${i + 1}, this.value)'>
                <option value="playing" ${items[i + 1].status === 'playing' ? 'selected' : ''}>Playing</option>
                <option value="checkmate" ${items[i + 1].status === 'checkmate' ? 'selected' : ''}>Win by Checkmate</option>
                <option value="timeout" ${items[i + 1].status === 'timeout' ? 'selected' : ''}>Win by Timeout</option>
                <option value="lose" ${items[i + 1].status === 'lose' ? 'selected' : ''}>Lose</option>
            </select>`;
            cell2.appendChild(createRemoveButton(i + 1));
        } else {
            cell2.textContent = '';
            rollNoCell2.textContent = '';
            classCell2.textContent = '';
        }
        row.appendChild(cell2);
        row.appendChild(rollNoCell2);
        row.appendChild(classCell2);
        row.appendChild(statusCell2);

        itemList.appendChild(row);
    }
}
    function updateStatus(index, newStatus) {
        let items = JSON.parse(localStorage.getItem('items')) || [];
        if (isValidString(newStatus)) {
            items[index].status = newStatus;
            localStorage.setItem('items', JSON.stringify(items));
        } else {
            alert('Status must be a valid string (letters only).');
        }
    }

    function createRemoveButton(index) {
        const removeButton = document.createElement('button');
        removeButton.textContent = 'Remove';
        removeButton.className = 'remove-button';
        removeButton.onclick = () => removeItem(index);
        return removeButton;
    }

    function removeItem(index) {
        let items = JSON.parse(localStorage.getItem('items')) || [];
        items.splice(index, 1);
        localStorage.setItem('items', JSON.stringify(items));
        updateItemList();
    }

    function saveDateTime() {
        const dateTimeInput = document.getElementById('dateTimeInput').value;
        if (dateTimeInput && typeof dateTimeInput === 'string') {
            localStorage.setItem('dateTime4', dateTimeInput);
            displaydatetime();
        }
    }

    function saveWinner() {
        const winnerInput = document.getElementById('winnerInput').value.trim();
        if (isValidString(winnerInput)) {
            localStorage.setItem('winner4', winnerInput);
            displayWinner();
        } else {
            alert('Winner must be a valid string (letters only).');
        }
    }

    function displayWinner() {
        const winnerDisplay = document.getElementById('winnerDisplay');
        const winner = localStorage.getItem('winner4');
        if (winner) {
            winnerDisplay.innerHTML = `Winner: ${winner} <button class="remove-button" onclick="removeWinner()">Remove</button>`;
        } else {
            winnerDisplay.textContent = '';
        }
    }

    function removeWinner() {
        localStorage.removeItem('winner4');
        displayWinner();
    }
function displaydatetime() {
        const datetimedisplay = document.getElementById('datetimedisplay');
        const dateTime = localStorage.getItem('dateTime4');
        if (dateTime) {
            datetimedisplay.innerHTML = `dateTime: ${dateTime} <button class="remove-button" onclick="removedatetime()">Remove</button>`;
        } else {
            datetimedisplay.textContent = '';
        }
        }

    function removedatetime() {
        localStorage.removeItem('dateTime4');
        displaydatetime();
    }
function filterTable() {
            const searchValue = document.getElementById('searchInput').value.toLowerCase();
            const rows = document.querySelectorAll('#itemTable tbody tr');

            rows.forEach(row => {
                const playerName = row.querySelector('td:first-child').textContent.toLowerCase();
                row.style.display = playerName.includes(searchValue) ? '' : 'none';
            });
        }
    window.onload = function() {
        updateItemList();
        displayWinner();
        displaydatetime();
    };
</script>


</body>
</html>
